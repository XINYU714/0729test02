const gamePlay={key:"gamePlay",preload:function(){this.load.image("bg","src/bg.webp"),this.load.image("ground","src/ground.webp"),this.load.audio("bgm","src/bgm.mp3"),this.load.image("f0","src/F1.webp"),this.load.image("f1","src/F2.webp"),this.load.image("f2","src/F3.webp"),this.load.image("f3","src/F4.webp"),this.load.image("f4","src/F5.webp"),this.load.image("f5","src/F6.webp"),this.load.image("f6","src/F7.webp"),this.load.image("l0","src/l1.webp"),this.load.image("l1","src/touch.png"),this.load.image("l2","src/l3.webp"),this.load.image("l3","src/l4.webp"),this.load.image("l4","src/l5.webp"),this.load.image("l5","src/l6.webp"),this.load.image("r0","src/r1.webp"),this.load.image("r1","src/r2.webp"),this.load.image("r2","src/r3.webp"),this.load.image("r3","src/r4.webp"),this.load.image("r4","src/r5.webp"),this.load.image("r5","src/r6.webp"),this.load.image("fp0","src/fp1.webp"),this.load.image("fp1","src/fp2.webp"),this.load.image("fp2","src/fp3.webp"),this.load.image("fp3","src/fp4.webp"),this.load.image("fp4","src/fp5.webp"),this.load.image("fp5","src/fp6.webp"),this.load.image("fp6","src/fp7.webp"),this.load.image("lp0","src/lp1.webp"),this.load.image("lp1","src/lp2.webp"),this.load.image("lp2","src/lp3.webp"),this.load.image("lp3","src/lp4.webp"),this.load.image("lp4","src/lp5.webp"),this.load.image("lp5","src/lp6.webp"),this.load.image("rp0","src/rp1.webp"),this.load.image("rp1","src/rp2.webp"),this.load.image("rp2","src/rp3.webp"),this.load.image("rp3","src/rp4.webp"),this.load.image("rp4","src/rp5.webp"),this.load.image("rp5","src/rp6.webp"),this.load.image("o1","src/Fo1.webp"),this.load.image("o2","src/Fo2.webp"),this.load.image("o3","src/Fo3.webp"),this.load.image("o4","src/Fo4.webp"),this.load.image("o5","src/ro1.webp"),this.load.image("o6","src/ro2.webp"),this.load.image("b5","src/ro3.webp"),this.load.image("o7","src/l2.webp"),this.load.image("o8","src/l3.webp"),this.load.image("b1","src/tree.webp"),this.load.image("b2","src/light01.webp"),this.load.image("b3","src/light02.webp"),this.load.image("b4","src/grassp.webp"),this.load.image("fin","src/fin.webp"),this.load.image("gameover","src/gameover.webp"),this.load.image("gameoverbtn","src/gameoverbtn.webp"),this.load.spritesheet("player","src/player4.png",{frameWidth:100,frameHeight:120}),this.iskeyJump=!0,this.gameStop=!1,this.monsterArr=[],this.culturerArr=[],this.restrArr=[],this.bgObjectArr=[],this.otherObjArr=[],this.farmQuestionArr=[],this.fproblemArr=[]},create:function(){this.bg=this.add.tileSprite(vw/2,vh/2,vw,vh,"bg"),this.fin=this.add.tileSprite(vw+10800,600,160,120,"fin");var i=s=>{this.physics.add.existing(s),s.body.immovable=!0,s.body.moves=!1};i(this.fin);var e=[{name:"f0",x:vw+100,y:585,w:100,h:130},{name:"f1",x:vw+400,y:585,w:100,h:130},{name:"f2",x:vw+750,y:585,w:100,h:150},{name:"f3",x:vw+1250,y:585,w:150,h:150},{name:"f4",x:vw+2200,y:530,w:45,h:120},{name:"f5",x:vw+2850,y:585,w:100,h:130},{name:"f6",x:vw+3100,y:575,w:100,h:150}],t=[{name:"l0",x:vw+4e3,y:585,w:100,h:130},{name:"l1",x:vw+4650,y:480,w:40,h:250},{name:"l2",x:vw+5630,y:500,w:550,h:300},{name:"l3",x:vw+6300,y:500,w:550,h:300},{name:"l4",x:vw+6900,y:410,w:220,h:490},{name:"l5",x:vw+7300,y:575,w:120,h:150}],h=[{name:"r0",x:vw+7900,y:585,w:100,h:130},{name:"r1",x:vw+8805,y:585,w:100,h:130},{name:"r2",x:vw+9100,y:585,w:100,h:130},{name:"r3",x:vw+9500,y:585,w:100,h:130},{name:"r4",x:vw+9880,y:585,w:100,h:130},{name:"r5",x:vw+10300,y:585,w:100,h:130}];for(let s=0;s<7;s++)this["f"+s]=this.add.tileSprite(e[s].x,e[s].y,e[s].w,e[s].h,e[s].name),this.monsterArr.push(this["f"+s]),i(this["f"+s]);this.b5=this.add.sprite(vw+9500,450,"b5");for(let s=0;s<6;s++)this["l"+s]=this.add.tileSprite(t[s].x,t[s].y,t[s].w,t[s].h,t[s].name),this["r"+s]=this.add.tileSprite(h[s].x,h[s].y,h[s].w,h[s].h,h[s].name),this.culturerArr.push(this["l"+s]),this.restrArr.push(this["e"+s]),i(this["l"+s]),i(this["r"+s]);var r=[{name:"o1",x:vw,y:500,w:300,h:300},{name:"o2",x:vw+2700,y:638,w:220,h:50},{name:"o3",x:vw+3200,y:590,w:160,h:120},{name:"o4",x:vw+2e3,y:500,w:820,h:300},{name:"o5",x:vw+7800,y:550,w:295,h:200},{name:"o6",x:vw+8400,y:600,w:160,h:120},{name:"o7",x:vw+4600,y:480,w:650,h:340},{name:"o8",x:vw+5600,y:480,w:650,h:340}],p=[{name:"b1",x:vw+7500,y:505},{name:"b2",x:vw+4200,y:550},{name:"b3",x:vw+3500,y:505},{name:"b4",x:vw+850,y:550}];for(let s=0;s<7;s++)this["o"+s]=this.add.tileSprite(r[s].x,r[s].y,r[s].w,r[s].h,r[s].name),this.bgObjectArr.push(this["o"+s]);for(let s=0;s<4;s++)this["b"+s]=this.add.sprite(p[s].x,p[s].y,p[s].name),this.otherObjArr.push(this["b"+s]);this.player=this.physics.add.sprite(90,90,"player"),this.player.setCollideWorldBounds(!0),this.player.setBounce(.2),this.player.y=300,platforms=this.physics.add.staticGroup(),platforms.create(vw/2,725,"ground"),this.physics.add.collider(this.player,platforms);this.physics.add.collider(this.player,this.f0,()=>{this.gameStop=!0,fp0=this.add.image(vw/2,vh/2.5,"fp0"),fp0.setInteractive(),fp0.once("pointerdown",()=>{this.gameStop=!1,this.physics.world.disable(this.f0),this.scene.resume(),fp0.destroy()}),1==this.physics.world.disable(this.f0)&&fp0.destroy()}),this.physics.add.collider(this.player,this.f1,()=>{this.gameStop=!0,fp1=this.add.image(vw/2,vh/2.5,"fp1"),fp1.setInteractive(),fp1.on("pointerdown",()=>{fp1.destroy(),this.gameStop=!1,this.physics.world.disable(this.f1),this.scene.resume()}),1==this.physics.world.disable(this.f1)&&fp1.destroy()}),this.physics.add.collider(this.player,this.f2,()=>{this.gameStop=!0,fp2=this.add.image(vw/2,vh/2.5,"fp2"),fp2.setInteractive(),fp2.on("pointerdown",()=>{fp2.destroy(),this.gameStop=!1,this.physics.world.disable(this.f2),this.scene.resume()}),1==this.physics.world.disable(this.f2)&&fp2.destroy()}),this.physics.add.collider(this.player,this.f3,()=>{this.gameStop=!0,fp3=this.add.image(vw/2,vh/2.5,"fp3"),fp3.setInteractive(),fp3.on("pointerdown",()=>{fp3.destroy(),this.gameStop=!1,this.physics.world.disable(this.f3),this.scene.resume()}),1==this.physics.world.disable(this.f3)&&fp3.destroy()}),this.physics.add.collider(this.player,this.f4,()=>{this.gameStop=!0,fp4=this.add.image(vw/2,vh/2.5,"fp4"),fp4.setInteractive(),fp4.on("pointerdown",()=>{fp4.destroy(),this.gameStop=!1,this.physics.world.disable(this.f4),this.scene.resume()}),1==this.physics.world.disable(this.f4)&&fp4.destroy()}),this.physics.add.collider(this.player,this.f5,()=>{this.gameStop=!0,fp5=this.add.image(vw/2,vh/2.5,"fp5"),fp5.setInteractive(),fp5.on("pointerdown",()=>{fp5.destroy(),this.gameStop=!1,this.physics.world.disable(this.f5),this.scene.resume()}),1==this.physics.world.disable(this.f5)&&fp5.destroy()}),this.physics.add.collider(this.player,this.f6,()=>{this.gameStop=!0,fp6=this.add.image(vw/2,vh/2.5,"fp6"),fp6.setInteractive(),fp6.on("pointerdown",()=>{fp6.destroy(),this.gameStop=!1,this.physics.world.disable(this.f6),this.scene.resume()}),1==this.physics.world.disable(this.f6)&&fp6.destroy()}),this.physics.add.collider(this.player,this.l0,()=>{this.gameStop=!0,lp0=this.add.image(vw/2,vh/2.5,"lp0"),lp0.setInteractive(),lp0.on("pointerdown",()=>{lp0.destroy(),this.gameStop=!1,this.physics.world.disable(this.l0),this.scene.resume()}),1==this.physics.world.disable(this.l0)&&lp0.destroy()}),this.physics.add.collider(this.player,this.l1,()=>{this.gameStop=!0,lp1=this.add.image(vw/2,vh/2.5,"lp1"),lp1.setInteractive(),lp1.on("pointerdown",()=>{lp1.destroy(),this.gameStop=!1,this.physics.world.disable(this.l1),this.scene.resume()}),1==this.physics.world.disable(this.l1)&&lp1.destroy()}),this.physics.add.collider(this.player,this.l2,()=>{this.gameStop=!0,lp2=this.add.image(vw/2,vh/2.5,"lp2"),lp2.setInteractive(),lp2.on("pointerdown",()=>{lp2.destroy(),this.gameStop=!1,this.physics.world.disable(this.l2),this.scene.resume()}),1==this.physics.world.disable(this.l2)&&lp2.destroy()}),this.physics.add.collider(this.player,this.l3,()=>{this.gameStop=!0,lp3=this.add.image(vw/2,vh/2.5,"lp3"),lp3.setInteractive(),lp3.on("pointerdown",()=>{lp3.destroy(),this.gameStop=!1,this.physics.world.disable(this.l3),this.scene.resume()}),1==this.physics.world.disable(this.l3)&&lp3.destroy()}),this.physics.add.collider(this.player,this.l4,()=>{this.gameStop=!0,lp4=this.add.image(vw/2,vh/2.5,"lp4"),lp4.setInteractive(),lp4.on("pointerdown",()=>{lp4.destroy(),this.gameStop=!1,this.physics.world.disable(this.l4),this.scene.resume()}),1==this.physics.world.disable(this.l4)&&lp4.destroy()}),this.physics.add.collider(this.player,this.l5,()=>{this.gameStop=!0,lp5=this.add.image(vw/2,vh/2.5,"lp5"),lp5.setInteractive(),lp5.on("pointerdown",()=>{lp5.destroy(),this.gameStop=!1,this.physics.world.disable(this.l5),this.scene.resume()}),1==this.physics.world.disable(this.l5)&&lp5.destroy()}),this.physics.add.collider(this.player,this.r0,()=>{this.gameStop=!0,rp0=this.add.image(vw/2,vh/2.5,"rp0"),rp0.setInteractive(),rp0.on("pointerdown",()=>{rp0.destroy(),this.gameStop=!1,this.physics.world.disable(this.r0),this.scene.resume()}),1==this.physics.world.disable(this.r0)&&rp0.destroy()}),this.physics.add.collider(this.player,this.r1,()=>{this.gameStop=!0,rp1=this.add.image(vw/2,vh/2.5,"rp1"),rp1.setInteractive(),rp1.on("pointerdown",()=>{rp1.destroy(),this.gameStop=!1,this.physics.world.disable(this.r1),this.scene.resume()}),1==this.physics.world.disable(this.r1)&&rp1.destroy()}),this.physics.add.collider(this.player,this.r2,()=>{this.gameStop=!0,rp2=this.add.image(vw/2,vh/2.5,"rp2"),rp2.setInteractive(),rp2.on("pointerdown",()=>{rp2.destroy(),this.gameStop=!1,this.physics.world.disable(this.r2),this.scene.resume()}),1==this.physics.world.disable(this.r2)&&rp2.destroy()}),this.physics.add.collider(this.player,this.r3,()=>{this.gameStop=!0,rp3=this.add.image(vw/2,vh/2.5,"rp3"),rp3.setInteractive(),rp3.on("pointerdown",()=>{rp3.destroy(),this.gameStop=!1,this.physics.world.disable(this.r3),this.scene.resume()}),1==this.physics.world.disable(this.r3)&&rp3.destroy()}),this.physics.add.collider(this.player,this.r4,()=>{this.gameStop=!0,rp4=this.add.image(vw/2,vh/2.5,"rp4"),rp4.setInteractive(),rp4.on("pointerdown",()=>{rp4.destroy(),this.gameStop=!1,this.physics.world.disable(this.r4),this.scene.resume()}),1==this.physics.world.disable(this.r4)&&rp4.destroy()}),this.physics.add.collider(this.player,this.r5,()=>{this.gameStop=!0,rp5=this.add.image(vw/2,vh/2.5,"rp5"),rp5.setInteractive(),rp5.on("pointerdown",()=>{rp5.destroy(),this.gameStop=!1,this.physics.world.disable(this.r5),this.scene.resume()}),1==this.physics.world.disable(this.r5)&&rp5.destroy()}),this.physics.add.collider(this.player,this.fin,()=>{this.gameStop=!0,this.player.setBounce(0);this.add.image(vw/2,vh/3,"gameover");let s=this.add.image(vw/2,vh/1.8,"gameoverbtn");s.setInteractive(),s.on("pointerdown",()=>this.scene.start("gameQuestion"))}),keyFrame(this),this.player.anims.play("run",!0),this.bgm=this.sound.add("bgm");this.bgm.play({mute:!1,volume:.5,rate:1,detune:0,seek:0,loop:!0,delay:0})},update:function(){if(!this.gameStop){this.bg.tilePositionX+=.8;for(let s=0;s<6;s++)this["f"+s].x-=2,this["l"+s].x-=2,this["r"+s].x-=2;for(let s=0;s<7;s++)this["o"+s].x-=2;for(let s=0;s<4;s++)this["b"+s].x-=2;this.f6.x-=2,this.b5.x-=2,this.fin.x-=2,this.input.activePointer.isDown?(this.iskeyJump=!1,this.player.setVelocityY(-300)):this.iskeyJump=!0;for(let s=0;s<this.monsterArr.length;s++)this.monsterArr[s].x<=-100&&this.monsterArr[s].destroy();for(let s=0;s<this.culturerArr.length;s++)this.culturerArr[s].x<=-100&&this.culturerArr[s].destroy()}}};